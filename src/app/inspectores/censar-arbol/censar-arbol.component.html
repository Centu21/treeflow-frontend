<header class="header-container">
  <h1 class="app-title">TreeFlow</h1>
  <img src="assets/logo2.png" alt="TreeFlow Logo" class="logo">
  <p class="subtitle">Censar Árbol</p>
  <app-header></app-header>
</header>


<div class="container">
  <div class="row justify-content-center">
    <div class="col-md-8">
      <div class="card mt-5">
        <div class="card-body">
          <form (ngSubmit)="onSubmit()" #censarArbolForm="ngForm">


            <!-- Comuna -->
            <div class="mb-3">
              <label for="comuna" class="form-label">Comuna</label>
              <select id="comuna" class="form-select" [(ngModel)]="comuna" name="comuna" required>
                <option value="" disabled selected>Seleccionar comuna</option>
                <option *ngFor="let comuna of comunas" [value]="comuna.id">{{ comuna.nombre }}</option>
              </select>
            </div>


            <!-- Calle -->
            <div class="mb-3">
              <label for="calle" class="form-label">Calle</label>
              <select id="calle" class="form-select" [(ngModel)]="calle" name="calle" required>
                <option value="" disabled selected>Seleccionar calle</option>
                <option *ngFor="let calle of calles" [value]="calle.id">{{ calle.nombre }}</option>
              </select>
            </div>


            <!-- Altura -->
            <div class="mb-3">
              <label for="altura" class="form-label">Altura</label>
              <input type="number" id="altura" class="form-control" [(ngModel)]="altura" name="altura" required maxlength="6">
            </div>


            <!-- Referencia -->
            <div class="mb-3">
              <label for="referencia" class="form-label">Referencia</label>
              <select id="referencia" class="form-select" [(ngModel)]="referencia" name="referencia" required>
                <option value="" disabled selected>Seleccionar referencia</option>
                <option *ngFor="let referencia of referencias" [value]="referencia.id">{{ referencia.descripcion }}</option>
              </select>
            </div>


            <!-- Especie -->
            <div class="mb-3">
              <label for="especie" class="form-label">Especie</label>
              <select id="especie" class="form-select" [(ngModel)]="especie" name="especie" required>
                <option value="" disabled selected>Seleccionar especie</option>
                <option *ngFor="let especie of especies" [value]="especie.id">{{ especie.nombre }}</option>
              </select>
            </div>


            <!-- Altura Árbol -->
            <div class="mb-3">
              <label for="alturaArbol" class="form-label">Altura Árbol</label>
              <input type="number" id="alturaArbol" class="form-control" [(ngModel)]="alturaArbol" name="alturaArbol" required maxlength="2">
            </div>


            <!-- DAP -->
            <div class="mb-3">
              <label for="dap" class="form-label">DAP</label>
              <input type="number" id="dap" class="form-control" [(ngModel)]="dap" name="dap" required maxlength="4">
            </div>


            <!-- Estado Fitosanitario -->
            <div class="mb-3">
              <label for="estadoFitosanitario" class="form-label">Estado Fitosanitario</label>
              <select id="estadoFitosanitario" class="form-select" [(ngModel)]="estadoFitosanitario" name="estadoFitosanitario" required>
                <option value="" disabled selected>Seleccionar estado</option>
                <option *ngFor="let estado of estadosFitosanitarios" [value]="estado.id">{{ estado.estado }}</option>
              </select>
            </div>


            <!-- Fase Vital -->
            <div class="mb-3">
              <label for="faseVital" class="form-label">Fase Vital</label>
              <select id="faseVital" class="form-select" [(ngModel)]="faseVital" name="faseVital" required>
                <option value="" disabled selected>Seleccionar fase</option>
                <option *ngFor="let fase of fasesVitales" [value]="fase.id">{{ fase.fase }}</option>
              </select>
            </div>


            <!-- Inclinación -->
            <div class="mb-3">
              <label for="inclinacion" class="form-label">Inclinación</label>
              <select id="inclinacion" class="form-select" [(ngModel)]="inclinacion" name="inclinacion" required>
                <option value="" disabled selected>Seleccionar inclinación</option>
                <option *ngFor="let inclinacion of inclinaciones" [value]="inclinacion.id">{{ inclinacion.nivel }}</option>
              </select>
            </div>


            <!-- Ahuecamiento -->
            <div class="mb-3">
              <label for="ahuecamiento" class="form-label">Ahuecamiento</label>
              <select id="ahuecamiento" class="form-select" [(ngModel)]="ahuecamiento" name="ahuecamiento" required>
                <option value="" disabled selected>Seleccionar ahuecamiento</option>
                <option *ngFor="let ahuecamiento of ahuecamientos" [value]="ahuecamiento.id">{{ ahuecamiento.nivel }}</option>
              </select>
            </div>


            <!-- Estado Plantera -->
            <div class="mb-3">
              <label for="estadoPlantera" class="form-label">Estado Plantera</label>
              <select id="estadoPlantera" class="form-select" [(ngModel)]="estadoPlantera" name="estadoPlantera" required>
                <option value="" disabled selected>Seleccionar estado</option>
                <option *ngFor="let estado of estadosPlantera" [value]="estado.id">{{ estado.estado }}</option>
              </select>
            </div>


            <!-- Ancho Acera -->
            <div class="mb-3">
              <label for="anchoAcera" class="form-label">Ancho Acera</label>
              <select id="anchoAcera" class="form-select" [(ngModel)]="anchoAcera" name="anchoAcera" required>
                <option value="" disabled selected>Seleccionar ancho</option>
                <option *ngFor="let ancho of anchosAcera" [value]="ancho.id">{{ ancho.ancho }}</option>
              </select>
            </div>


            <!-- Observaciones -->
            <div class="mb-3">
              <label for="observaciones" class="form-label">Observaciones</label>
              <textarea id="observaciones" class="form-control" [(ngModel)]="observaciones" name="observaciones" maxlength="300"></textarea>
            </div>


            <!-- Foto -->
            <div class="mb-3">
              <label for="foto" class="form-label">Foto</label>
              <input type="file" id="foto" class="form-control" (change)="onFileSelected($event)" accept="image/*">
            </div>


            <button type="submit" class="btn btn-primary w-100" [disabled]="censarArbolForm.invalid">Enviar</button>
            
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
